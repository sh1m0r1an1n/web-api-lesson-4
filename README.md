# Загрузка фотографий космоса в Telegram

Эта программа автоматически публикует фотографии космоса в вашем Telegram-канале через бота с заданным интервалом между постами. Она также загружает изображения от NASA и SpaceX.

## Настройка параметров

Вы можете настроить различные параметры программы, указав их при запуске через командную строку или в файле `config.ini`. Это не обязательно, так как предусмотрены значения по умолчанию. Приоритет использования параметров следующий:

1. Данные из командной строки
2. Данные из файла config.ini
3. Значения по умолчанию

## Установка

Если у вас не установлен Python, скачайте его с [официального сайта Python](https://www.python.org/downloads/) и установите согласно инструкции для вашей операционной системы.
 
### 1. Настройка окружения

Чтобы программа знала, как обращаться к необходимым сервисам и ботам, нужно задать специальные настройки. Для этого создаётся файл `.env` в корневой директории проекта. Этот файл хранит переменные окружения — значения, которые используются программой для подключения к API и выполнения своих функций.

**Действия:**

- Откройте текстовый редактор (например, Notepad, VSCode или встроенный редактор в вашей IDE).
- Создайте файл с именем `.env` в папке с проектом.
- Скопируйте в файл следующие строки:
  ```
  NASA_API_TOKEN=
  TG_BOT_TOKEN=
  TG_CHANNEL_ID=
  ```
- Заполните значения после знака `=`:
  - `NASA_API_TOKEN` — это ключ для доступа к API NASA. Он используется для отправки запросов и скачивания фотографий с сервера NASA. Получить его можно на [официальном сайте NASA](https://api.nasa.gov/).
  - `TG_BOT_TOKEN` — это токен вашего Telegram-бота. Он используется для аутентификации при отправке сообщений через Telegram Bot API. Для получения токена создайте бота через [BotFather](https://core.telegram.org/bots#botfather) в Telegram. Следуйте инструкциям, чтобы получить уникальный токен.
  - `TG_CHANNEL_ID` — это идентификатор вашего Telegram-канала, куда бот будет отправлять фотографии. Обычно указывается в формате `@Channel` (например, `@MySpacePhotos`).
- Дополнительно, вы можете указать свои параметры в файле `config.ini`:
  ```
  id = latest
  hours = 4
  directory = images
  count = 100
  ```
  - `id` — это идентификатор запуска SpaceX. По умолчанию `latest` - крайний запуск.
  - `hours` — это задержка между постами в часах. По умолчанию 4 часа.
  - `directory` — путь для сохранения и загрузки фотографий. По умолчанию создается папка `images` в директории программы.
  - `count` — это количество фотографий SpaceX для загрузки. По умолчанию 100.

### 2. Установка зависимостей

Программа использует сторонние библиотеки, которые необходимо установить. Это можно сделать с помощью пакетного менеджера `pip`, который устанавливается вместе с Python.

**Действия:**

- Откройте командную строку (на Windows — Command Prompt или PowerShell, на macOS/Linux — Terminal).
- Перейдите в папку с вашим проектом командой (замените `путь/к/папке/с/проектом` на фактический путь):
  ```
  cd путь/к/папке/с/проектом
  ```
- Обновите `pip` до последней версии (это полезно для избежания проблем с установкой пакетов):
  ```
  pip install --upgrade pip
  ```
- Установите все зависимости, перечисленные в файле `requirements.txt`:
  ```
  pip install -r requirements.txt
  ```
Это автоматически скачает и установит все необходимые библиотеки, которые нужны для работы программы.

---

## Использование

После настройки окружения и установки зависимостей вы можете запускать различные части программы:

1. **Скачивание фотографий NASA APOD (Astronomy Picture of the Day):**

```
python download_nasa_apod_images.py
python download_nasa_apod_images.py --count <кол-во_фотографий>
python download_nasa_apod_images.py --directory <путь_к_папке>
python download_nasa_apod_images.py --count <кол-во_фотографий> --directory <путь_к_папке>
```
По умолчанию программа скачает `100` случайных фотографий дня от NASA в папку `images`. Или возьмет настройки из файла `config.ini`, если вы их там указали.

Замените `<кол-во_фотографий>` на то, которе вы хотите скачать (максимум 100). Замените `<путь_к_папке>` на тот, куда вы хотите сохранить фотографии.

2. **Скачивание фотографий NASA EPIC (Earth Polychromatic Imaging Camera):**

```
python download_nasa_epic_images.py
python download_nasa_epic_images.py --directory <путь_к_папке>
```
По умолчанию программа скачает доступные снимки Земли (12 штук за каждый час) из NASA EPIC и сохранит их в папке `images`. Или возьмет настройки из файла `config.ini`, если вы их там указали.

Замените `<путь_к_папке>` на тот, куда вы хотите сохранить фотографии.

3. **Скачивание фотографий определённого запуска SpaceX:**

```
python download_spacex_launch_images.py --id <ID_запуска>
python download_spacex_launch_images.py --id <ID_запуска> --directory <путь_к_папке>
```
Замените `<ID_запуска>` на идентификатор интересующего вас запуска. Это позволит скачать фотографии, сделанные во время конкретного запуска SpaceX. Если вы не знаете ID, его можно найти на сайте или через API SpaceX.

Замените `<путь_к_папке>` на тот, куда вы хотите сохранить фотографии.

4. **Скачивание фотографий последнего запуска SpaceX:**

```
python download_spacex_launch_images.py
python download_spacex_launch_images.py --directory <путь_к_папке>
```
Программа попытается скачать фотографии последнего доступного запуска SpaceX. Учтите, что иногда фотографий для запуска может не оказаться.

Замените `<путь_к_папке>` на тот, куда вы хотите сохранить фотографии.

5. **Запуск Telegram-бота:**

```
python launch_telegram_bot.py
python launch_telegram_bot.py --hours <количество_часов>
python launch_telegram_bot.py --directory <путь_к_папке>
python launch_telegram_bot.py --hours <количество_часов> --directory <путь_к_папке>
```
По умолчанию бот берет фотографии из папки `images` и публикует их в произвольном порядке с задержкой в 4 часа. Или возьмет настройки из файла `config.ini`, если вы их там указали.

Замените `<количество_часов>` на желаемое значение задержки между постами. Бот будет автоматически отправлять фотографии из соответствующих папок в указанный Telegram-канал с заданной периодичностью.

Замените `<путь_к_папке>` на тот, откуда вы хотите, чтобы бот брал фотографии.

## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).