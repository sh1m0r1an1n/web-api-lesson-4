# Загрузка в Telegram фотографий космоса

Эта программа автоматически выкладывает фотографии космоса в ваш Telegram-канал через вашего бота с выбранной задержкой между постами, а также скачивает фотографии космоса от NASA и SpaceX. Задержку можно регулировать, указывая её при запуске программы через командную строку или задавая переменную окружения `DELAY_HOURS` (по умолчанию — 4 часа). Программа создаёт три папки: `NASA_APOD`, `NASA_EPIC` и `SpaceX`, в которые сохраняются скачанные фотографии. Затем бот отправляет фотографии из этих папок в ваш канал.

## Установка

Перед тем как начать, убедитесь, что у вас установлен Python 3.  
Если Python ещё не установлен, скачайте его с [официального сайта Python](https://www.python.org/downloads/) и установите согласно инструкции для вашей операционной системы.
 
### 1. Настройка окружения

Чтобы программа знала, как обращаться к необходимым сервисам и ботам, нужно задать специальные настройки. Для этого создаётся файл `.env` в корневой директории проекта. Этот файл хранит переменные окружения — значения, которые используются программой для подключения к API и выполнения своих функций.

**Действия:**

- Откройте текстовый редактор (например, Notepad, VSCode или встроенный редактор в вашей IDE).
- Создайте файл с именем `.env` в папке с проектом.
- Скопируйте в файл следующие строки:
  ```
  NASA_API_TOKEN=
  TG_BOT_TOKEN=
  TG_CHANNEL_ID=
  DELAY_HOURS=
  ```
- Заполните значения после знака `=`:
  - `NASA_API_TOKEN` — это ключ для доступа к API NASA. Он используется для отправки запросов и скачивания фотографий с сервера NASA. Получить его можно на [официальном сайте NASA](https://api.nasa.gov/).
  - `TG_BOT_TOKEN` — это токен вашего Telegram-бота. Он используется для аутентификации при отправке сообщений через Telegram Bot API. Для получения токена создайте бота через [BotFather](https://core.telegram.org/bots#botfather) в Telegram. Следуйте инструкциям, чтобы получить уникальный токен.
  - `TG_CHANNEL_ID` — это идентификатор вашего Telegram-канала, куда бот будет отправлять фотографии. Обычно указывается в формате `@Channel` (например, `@MySpacePhotos`).
  - `DELAY_HOURS` — задержка между постами в часах. Если оставить пустым, будет использовано значение по умолчанию (4 часа).

### 2. Установка зависимостей

Программа использует сторонние библиотеки, которые необходимо установить. Это можно сделать с помощью пакетного менеджера `pip`, который устанавливается вместе с Python.

**Действия:**

- Откройте командную строку (на Windows — Command Prompt или PowerShell, на macOS/Linux — Terminal).
- Перейдите в папку с вашим проектом командой (замените `путь/к/папке/с/проектом` на фактический путь):
  ```
  cd путь/к/папке/с/проектом
  ```
- Обновите `pip` до последней версии (это полезно для избежания проблем с установкой пакетов):
  ```
  pip install --upgrade pip
  ```
- Установите все зависимости, перечисленные в файле `requirements.txt`:
  ```
  pip install -r requirements.txt
  ```
Это автоматически скачает и установит все необходимые библиотеки (например, requests, python-dotenv, environs и т.д.), которые нужны для работы программы.

---

## Использование

После настройки окружения и установки зависимостей вы можете запускать различные части программы:

1. **Скачивание фотографий NASA APOD (Astronomy Picture of the Day):**
```
python download_nasa_apod_images.py
```
Программа скачает 100 случайных фотографий дня от NASA. Эти изображения будут сохранены в папке `NASA_APOD`.

2. **Скачивание фотографий NASA EPIC (Earth Polychromatic Imaging Camera):**

Выполните команду:
```
python download_nasa_epic_images.py
```
Программа скачает доступные снимки Земли из NASA EPIC и сохранит их в папке `NASA_EPIC`.

3. **Скачивание фотографий определённого запуска SpaceX:**

Выполните команду:
```
python download_spacex_launch_images.py --id <ID_запуска>
```
Замените `<ID_запуска>` на идентификатор интересующего вас запуска. Это позволит скачать фотографии, сделанные во время конкретного запуска SpaceX. Если вы не знаете ID, его можно найти на сайте или через API SpaceX.

4. **Скачивание фотографий последнего запуска SpaceX:**

Выполните команду:
```
python download_spacex_launch_images.py
```
Программа попытается скачать фотографии последнего доступного запуска SpaceX. Учтите, что иногда фотографий для запуска может не оказаться.

5. **Запуск Telegram-бота:**

Выполните команду:
```
python launch_telegram_bot.py --hours <количество_часов>
```
Замените `<количество_часов>` на желаемое значение задержки между постами. Бот будет автоматически отправлять фотографии из соответствующих папок в указанный Telegram-канал с заданной периодичностью.

## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).